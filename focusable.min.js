/*! focusable - v0.1.0 - MIT License - https://github.com/zzarcon/focusable */
(function(e,t){if(typeof define==="function"&&define.amd){define(["exports"],t)}else if(typeof exports==="object"){t(exports);if(typeof module==="object"&&module!==null){module.exports=exports=exports.Focusable}}else{t(e)}})(this,function(e){"use strict";var t="0.1.0";var n="focusable-overlay";var o=Array.prototype.slice;var i=Object.prototype.hasOwnProperty;var l={fadeDuration:700,hideOnClick:false,hideOnESC:true,findOnResize:true};var r=[];var a=null;var s=null;var u=false;var c=false;var d=document.body;var f="#"+n+" .column";function p(e,t){if(e&&e.length){e=e[0]}else if(!(e instanceof HTMLElement)){throw new TypeError("First argument should be a Node or jQuery/Zepto selector")}t=R(R({},l),t);g(e,t);return{element:e,options:t,isVisible:y,hide:function(){w(e)}}}function y(){return c}function m(e){var t=document.createElement("div");t.id=n;d.insertBefore(t,d.firstChild);s=t;u=true;v(e);S(e)}function v(e){if(e.hideOnESC){window.addEventListener("keyup",h)}if(e.hideOnClick){s.addEventListener("click",k)}}function h(e){e.keyCode===27&&c&&k()}function b(e,t){document.onreadystatechange=function(){if(document.readyState==="complete"){d=document.body;e.apply(null,t)}}}function g(e,t){if(document.readyState!=="complete"){return b(g,arguments)}else if(d==null){d=document.body}if(u===false){m(t)}x(e,t)}function x(e,t){var n=window.getComputedStyle(e);r.push({zIndex:n.getPropertyValue("z-index"),position:n.getPropertyValue("z-index"),element:e});d.style.overflow="hidden";e.style.position="relative";e.style.zIndex=1e4;if(c===false){C(e)}s.style.display="block";setTimeout(function(){s.style.opacity="1"},50)}function w(e){var t=null;for(var n=0,o=r.length;n<o;n+=1){if(r[n].element===e){t=n;break}}var i=r[t];i.element.style.zIndex=i.zIndex;i.element.style.position=i.position;r.splice(t,1);if(r.length){O();C(r[0].element)}else{k()}}function k(){c=false;d.style.overflow="";s.style.display="none";O();r.splice(0).forEach(function(e){e.element.style.zIndex=e.zIndex;e.element.style.position=e.position})}function C(e){var t=0;c=true;O();while(t<4){E(e,t);t+=1}}function E(e,t){var n=e.getBoundingClientRect();var o=0,i=0,l=I(e.clientWidth),r="100%";switch(t){case 0:l=I(n.left);break;case 1:i=I(n.left);r=I(n.top);break;case 2:i=I(n.left);o=I(e.clientHeight+n.top);break;case 3:l="100%";i=I(e.clientWidth+n.left);break}var a="top:"+o+";left:"+i+";width:"+l+";height:"+r;var u=z(a);s.appendChild(u)}function z(e){var t=document.createElement("div");t.className="column";t.setAttribute("style",e);return t}function O(){var e=s.querySelectorAll("#"+n+" .column");for(var t=0,o=e.length;t<o;t+=1){e[t].parentNode.removeChild(e[t])}}function I(e){return e+"px"}function S(e){var t=N();t.insertRule("#"+n+"{"+ +"display:none;"+"opacity:0;"+"transition: opacity "+e.fadeDuration+"ms;"+"position: absolute;"+"top: 0;"+"left: 0;"+"width: 100%;"+"height: 100%;"+"z-index: 9999;"+"overflow: hidden;"+"pointer-events: none;"+"}",0);t.insertRule("#"+n+" .column"+"{"+"position: absolute;"+"background: rgba(0,0,0,0.8);"+"pointer-events: all;"+"}",1)}function N(){var e=document.createElement("style");e.appendChild(document.createTextNode(""));document.head.appendChild(e);return e.sheet}function R(e,t){for(var n in t)if(i.call(t,n)){e[n]=t[n]}return e}e.Focusable=p;p.defaults=l;p.hideAll=k;p.elements=r;p.isVisible=y;p.VERSION=t});
//# sourceMappingURL=http://cdn.rawgit.com/zzarcon/focusable/0.1.0/focusable.min.js.map